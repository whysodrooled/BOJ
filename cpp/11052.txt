R(1) = P(1)
R(2) = max(P(2), R(1) + R(1))
R(3) = max(P(3), R(2) + R(1))
R(4) = max(P(4), R(3) + R(1), R(2) + R(2))
R(5) = max(P(5), R(4) + R(1), R(3) + R(2))
R(6) = max(P(6), R(5) + R(1), R(4) + R(2), R(3) + R(3))

R(n) = max(P(n), R(n-1) + R(1), R(n-2) + R(2), ... R(n-(n/2)) + R(n/2))